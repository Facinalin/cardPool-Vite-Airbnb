import{_ as z,a as H,m as R,b as O,O as J,c as a,e,F as T,y as I,D as v,f as d,w as q,K as Y,r as E,o as r,t as h,C,L as w,M as K,P as Q,h as F,Q as V,z as B}from"./index-14e50f67.js";import{S as L}from"./sweetalert2.all-742031dd.js";import{c as G}from"./cartsStore-1cbb6115.js";import{S as D,a as W}from"./adminStore-5d7737fb.js";const{VITE_APP_URL2:j,VITE_APP_PATH:X}={VITE_APP_URL:"https://card-pool-json-vercel.vercel.app",VITE_APP_URL2:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"lk1025cina",BASE_URL:"/cardPool-Vite-Airbnb/",MODE:"production",DEV:!1,PROD:!0};let S=null;const Z={props:["ifGroupCreator"],watch:{userProductList:{handler(l,o){l.length!==o.length&&console.log("someData length has changed:",l.length)},deep:!0}},data(){return{checkLiningUp:!1,perProduct:{category:"",origin_price:null,price:null,unit:"個",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[],member:"Bangchan",channel:"非特定通路",domestic_Transport:{courier:"711賣貨便",courier_Note:"",amount:null},international_Transport:{complement:!1,amount:null}},isNew:"",ifDomesticFee:!1,ifInternational:!1,ifComplement:!1,ifGroup:!1,curUId:"",chooseMember:[],modalState:"",leftMember:{1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1},mustChoose:[],scarcity:[],normalArea:[],channels:["非特定通路","阿拉丁","Music Planet","JYP","YES24","KTown4U","WithMuu","SoundWave","其它通路"],dropdownList:!1,domLeftMember:[{memberNo:"1",member:"Bangchan",imgUrl:"https://i.imgur.com/5PlS2aH.png",left:!1},{memberNo:"2",member:"Leeknow",imgUrl:"https://i.imgur.com/ATWXtR9.png",left:!1},{memberNo:"3",member:"Changbin",imgUrl:"https://i.imgur.com/XhAHWYu.png",left:!1},{memberNo:"4",member:"Hyunjin",imgUrl:"https://i.imgur.com/AANylPt.png",left:!1},{memberNo:"5",member:"Han",imgUrl:"https://i.imgur.com/UQ7he1p.png",left:!1},{memberNo:"6",member:"Felix",imgUrl:"https://i.imgur.com/UFTzeFH.png",left:!1},{memberNo:"7",member:"Seungmin",imgUrl:"https://i.imgur.com/UiFtZSu.png",left:!1},{memberNo:"8",member:"I.N",imgUrl:"https://i.imgur.com/3JdX3kx.png",left:!1}]}},methods:{openModal(l,o){if(l==="edit"&&(this.isNew="edit",S.show(),this.perProduct={...o},this.perProduct.domestic_Transport.courier!=="面交"&&(this.ifDomesticFee=!0),this.perProduct.domestic_Transport.courier==="面交"&&(this.ifDomesticFee=!1),this.perProduct.international_Transport.complement===!0&&(this.ifInternational=!0,this.ifComplement=!0),this.perProduct.international_Transport.complement===!1&&this.perProduct.international_Transport.amount!==0&&(this.ifInternational=!0,this.ifComplement=!1),this.perProduct.international_Transport.complement===!1&&this.perProduct.international_Transport.amount===0&&(this.ifInternational=!1,this.ifComplement=!1)),l==="group")this.isNew="group",this.perProduct={category:"",origin_price:0,price:0,unit:"個",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[],domestic_Transport:{courier:"請選擇出貨方式",courier_Note:"",amount:0},international_Transport:{complement:!1,amount:0}},this.ifGroup=!0;else if(l==="closing"){this.isNew="closing",this.perProduct={...o};const t={...this.perProduct.leftMember},y=Object.values(t),p=[];for(let g=0;g<y.length;g++)t[g]===!1&&(p.push(g),delete t[g]),t[g]===null&&delete t[g];const N=Object.keys(t);console.log(N,p),N.forEach(g=>{this.domLeftMember.forEach(U=>{U.memberNo===g&&(U.left=!0)})}),console.log(this.domLeftMember),console.log("here")}S.show();const _=this.$refs.redArea,k=this.$refs.blueArea,i=this.$refs.normalArea,n=this.$refs.takenArea,c=this.$refs.choosePlate;console.log(_);const P=[{content:'<img src="https://i.imgur.com/5VrxHl4.png" alt="Bangchan" data-id="1"><p class="en-font" style="font-weight:100;">Bangchan</p>'},{content:'<img src="https://i.imgur.com/Uf8hp4X.png" alt="Leeknow" data-id="2"><p class="en-font" style="font-weight:100;">Leeknow</p>'},{content:'<img src="https://i.imgur.com/DlrpnvJ.png" alt="Changbin" data-id="3"><p class="en-font" style="font-weight:100;">Changbin</p>'},{content:'<img src="https://i.imgur.com/lBM4VXu.png" alt="Hyunjin" data-id="4"><p class="en-font" style="font-weight:100;">Hyunjin</p>'},{content:'<img src="https://i.imgur.com/sdkVX6b.png" alt="Han" data-id="5"><p class="en-font" style="font-weight:100;">Han</p>'},{content:'<img src="https://i.imgur.com/vnEW0jA.png" alt="Felix" data-id="6"><p class="en-font" style="font-weight:100;">Felix</p>'},{content:'<img src="https://i.imgur.com/vee74L9.png" alt="Seungmin" data-id="7"><p class="en-font" style="font-weight:100;">Seungmin</p>'},{content:'<img src="https://i.imgur.com/OHOP739.png" alt="IN" data-id="8"><p class="en-font" style="font-weight:100;">IN</p>'}],f=document.querySelectorAll(".draggable");if(console.log(f),_&&f.length===0){P.map(U=>{const u=document.createElement("div");return u.setAttribute("draggable","true"),u.classList.add("draggable"),u.innerHTML=U.content,c.appendChild(u),c});const t=D.create(k,{group:"dnd",animation:10}),y=D.create(_,{group:"dnd",animation:10}),p=D.create(i,{group:"dnd",animation:10}),N=D.create(n,{group:"dnd",animation:10}),g=D.create(c,{group:"dnd",animation:10});console.log(t,y,N,p,g)}const s=document.querySelectorAll(".draggable img");if(l==="edit"&&s.length===8){console.log("8個"),console.log(this.perProduct),console.log(s);const t=this.perProduct.mustChoose,y=this.perProduct.scarcity,p={...this.perProduct.leftMember},N=Object.values(p),g=[];for(let u=0;u<N.length;u++)p[u]===!1&&(g.push(u),delete p[u]),p[u]===null&&delete p[u];t&&t.forEach((u,b,A)=>{p[A[b]]===!0&&delete p[A[b]]}),y&&y.forEach((u,b,A)=>{p[A[b]]===!0&&delete p[A[b]]}),console.log(g);const U=Object.keys(p);s.forEach(function(u){const b=u.getAttribute("data-id"),A=u.getAttribute("src"),x=u.getAttribute("alt");t&&t.forEach(M=>{if(M===b){const m=document.createElement("div");m.setAttribute("draggable","true"),m.classList.add("draggable"),m.innerHTML=`<img src="${A}" alt="${x}" data-id="${b}"><p>${x}</p>`,_.appendChild(m)}}),y&&y.forEach(M=>{if(M===b){const m=document.createElement("div");m.setAttribute("draggable","true"),m.classList.add("draggable"),m.innerHTML=`<img src="${A}" alt="${x}" data-id="${b}"><p>${x}</p>`,k.appendChild(m)}}),U.length>0&&U.forEach(M=>{if(M===b){const m=document.createElement("div");m.setAttribute("draggable","true"),m.classList.add("draggable"),m.innerHTML=`<img src="${A}" alt="${x}" data-id="${b}"><p>${x}</p>`,i.appendChild(m)}}),g.length>0&&g.forEach(M=>{if(M===b*1){const m=document.createElement("div");m.setAttribute("draggable","true"),m.classList.add("draggable"),m.innerHTML=`<img src="${A}" alt="${x}" data-id="${b}"><p>${x}</p>`,n.appendChild(m)}}),c.innerHTML=""})}console.log(l)},closeModal(){this.perProduct={category:"",origin_price:null,price:null,unit:"個",description:"",content:"",is_enabled:1,imageUrl:"",imagesUrl:[],member:"Bangchan",domestic_Transport:{courier:"711賣貨便",courier_Note:"",amount:null},international_Transport:{complement:!1,amount:null}};const l=this.$refs.redArea,o=this.$refs.blueArea,_=this.$refs.normalArea,k=this.$refs.takenArea;console.log(l),(l||o||_||k)&&(l.innerHTML="",o.innerHTML="",_.innerHTML="",k.innerHTML=""),S.hide()},filterCardGroupCart(){this.cardGroupCart=this.carts},toCheckLiningUp(){this.checkLiningUp=!0},toGroupCreator(){this.checkLiningUp=!1},updateProduct(l,o){let _=`${j}/api/${X}/admin/product`,k="";l==="edit"&&(k="put",_=`${j}/api/${X}/admin/product/${o.id}`),l==="group"&&(k="post",this.perProduct.created_At=new Date().getTime()),document.querySelectorAll(".choosePlate .draggable").length!==0?L.fire({position:"center",icon:"error",title:"卡位成員資訊有誤，請檢查！",showConfirmButton:!1,timer:1800}):(document.querySelectorAll(".mustArea .draggable img").forEach(f=>{const s=f.getAttribute("data-id");this.mustChoose.push(s),console.log(`must${s}`)}),document.querySelectorAll(".scarceArea .draggable img").forEach(f=>{const s=f.getAttribute("data-id");this.scarcity.push(s),console.log(`scarce${s}`)}),document.querySelectorAll(".normalArea .draggable img").forEach(f=>{const s=f.getAttribute("data-id");this.normalArea.push(s),console.log(`normal${s}`)}),this.mustChoose.forEach((f,s,t)=>{this.leftMember[t[s]]=!0}),this.scarcity.forEach((f,s,t)=>{this.leftMember[t[s]]=!0}),this.normalArea.forEach((f,s,t)=>{this.leftMember[t[s]]=!0}),this.perProduct.leftMember=this.leftMember,this.mustChoose.length!==0&&(this.perProduct.mustChoose=[],this.perProduct.mustChoose=this.mustChoose),this.scarcity.length!==0&&(this.perProduct.scarcity=[],this.perProduct.scarcity=this.scarcity),this.perProduct.category="拆卡",this.ifDomesticFee||(this.perProduct.domestic_Transport.amount=0,this.perProduct.domestic_Transport.courier="面交"),this.ifComplement?(this.perProduct.international_Transport.amount=0,this.perProduct.international_Transport.complement=!0):this.perProduct.international_Transport.complement=!1,console.log(this.perProduct),console.log(k,_),H[k](_,{data:this.perProduct}).then(f=>{console.log(this.perProduct);let s="新增";l==="edit"&&(s="修改"),L.fire({position:"center",icon:"success",title:`成功${s}卡團！`,showConfirmButton:!1,timer:1800}),this.mustChoose=[],this.scarcity=[],this.leftMember={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1},this.closeModal(),this.getProductList()}).catch(f=>{L.fire({position:"center",icon:"error",title:`${f.message}`,showConfirmButton:!1,timer:1800})}))},hasDomestic(){this.ifDomesticFee=!0},hasNoDomestic(){this.ifDomesticFee=!1},hasNoInternational(){this.ifInternational=!1},hasInternational(){this.ifInternational=!0},needComplement(){this.ifComplement=!0},needNoComplement(){this.ifComplement=!1},onSubmit(l){console.log(JSON.stringify(l,null,2))},isRequired(l){return l?!0:"此欄位為必填！"},isNumber(l){return/^[0-9]+$/.test(l)?!0:"僅能填入0-9的數字！"},checkAdmin(){const l=`${j}/api/user/check`;H.post(l).then(o=>{this.curUId=o.data.uid,this.getProductList()}).catch(o=>{L.fire({position:"center",icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:1800}),this.$router.push("/logIn")})},...R(G,["getCardGroupCart"]),...R(W,["getProductList"])},computed:{...O(G,["cardGroupCart"]),...O(W,["userProductList"])},mounted(){const l=document.getElementById("addProductModal");S=new J(l,{keyboard:!1,backdrop:"static"}),this.getCardGroupCart(),this.getProductList()}},$={key:0,class:"col-10"},ee=e("h2",{class:"ch-font text-center text-white mb-6 fs-2 bg-dark-pink py-4 creator-title bb-dark-pink"},"我主拆的團們",-1),te={class:"table mt-4 text-center"},oe=e("thead",null,[e("tr",{class:"text-secondary fs-5 pb-4"},[e("th",{width:"120"}," 成團進度 "),e("th",{width:"110"},"開團日期"),e("th",{width:"400"}," 隨卡商品 "),e("th",{width:"110"}," 編輯資料 "),e("th",{width:"110"}," 收團 "),e("th",{width:"100"}," 刪除 ")])],-1),se={class:"text-center"},ie={class:"text-center"},ne=["onClick"],le={class:"text-center"},re=["onClick"],ae=["onClick"],ce={key:1,class:"col-10"},de=e("h2",{class:"ch-font text-center text-white mb-6 fs-2 bg-dark-purple bb-dark-purple py-4 creator-title"},"我卡位中的團們",-1),me={class:"table mt-4 text-center"},ue=e("thead",null,[e("tr",{class:"text-primary fs-5 pb-4"},[e("th",{width:"120"}," 團主 "),e("th",{width:"110"},"開團日期"),e("th",{width:"400"}," 隨卡商品 "),e("th",{width:"110"}," 卡位總人數 "),e("th",{width:"100"}," 取消卡位 ")])],-1),pe={class:"text-center"},he={class:"text-center"},fe=["onClick"],ge=["onClick"],be={class:"modal fade",tabindex:"-1",id:"addProductModal"},_e={class:"modal-dialog modal-xl"},ye={class:"modal-content"},ve={class:"modal-header bg-maingray border-bottom-0"},ke={key:0,class:"modal-title text-secondary-trans fs-4 ls-4"},Pe={key:1,class:"modal-title text-secondary-trans fs-4 ls-4"},Ce={key:2,class:"modal-title text-secondary-trans fs-4 ls-4"},Ae={key:0,class:"modal-body p-0"},xe={class:"member-list bg-maingray"},we={class:"member-row member-row-sm d-flex justify-content-between mb-2 py-4 px-3"},Ue=["onClick"],Me=["src","alt","data-id"],Ne=Y('<div class="py-6 px-5"><div class="row"><div class="col-sm-12"><div class="perLiner border border-primary bd-rd-12 py-3 px-4 mb-2"><div class="upper d-flex justify-content-between mb-4"><div class="des d-flex justify-content-between align-items-center"><h2>順序：<span class="text-mainorange">2</span></h2><p>絲帶姐</p><p>主拆<span class="text-secondary ps-1">5</span></p><p>合拆<span class="text-primary ps-1">3</span></p></div><button type="button" class="btn btn-mainorange text-white bd-rd-20">收</button></div><div class="lower d-flex justify-content-start"><img src="https://i.imgur.com/5PlS2aH.png" alt="bangchan" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/ATWXtR9.png" alt="leeknow" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="changbin" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="hyunjin" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="han" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="felix" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="seungmin" class="closing-liner-pic bd-rd-12"></div></div></div><div class="col-sm-12"><div class="perLiner border border-primary bd-rd-12 py-3 px-4 mb-2"><div class="upper d-flex justify-content-between mb-4"><div class="des d-flex justify-content-between align-items-center"><h2>順序：<span class="text-mainorange">1</span></h2><p>絲帶姐</p><p>主拆<span class="text-secondary ps-1">5</span></p><p>合拆<span class="text-primary ps-1">3</span></p></div><button type="button" class="btn btn-mainorange text-white bd-rd-20">收</button></div><div class="lower d-flex justify-content-start"><img src="https://i.imgur.com/AANylPt.png" alt="" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="" class="closing-liner-pic bd-rd-12"><img src="https://i.imgur.com/AANylPt.png" alt="" class="closing-liner-pic bd-rd-12"></div></div></div></div></div>',1),Te={class:"modal-footer mt-6"},Ve={key:1,class:"modal-body"},Ie={class:"col-sm-4 has-validation"},De=e("label",{for:"imgUrl",class:"form-label"},"商品圖片",-1),Le={name:"link",class:"invalid-feedback"},Se={class:"modalPic"},Fe=["src"],Ee={key:0},Be={class:"form-group"},je=e("label",{for:"imageUrl",class:"form-label"},"圖片網址",-1),He=["onUpdate:modelValue"],Re=["src"],Oe={key:0},qe={key:1},Ge={key:1},We={class:"col-sm-8"},Xe={class:"row"},ze={class:"col-sm-12"},Je={class:"form-group mb-3"},Ye=e("label",{for:"title",class:"form-label"},"標題",-1),Ke={name:"title",class:"invalid-feedback"},Qe={class:"col-sm-6"},Ze={class:"form-group mb-3"},$e=e("label",{for:"price",class:"form-label"},"價格（元）",-1),et={name:"price",class:"invalid-feedback"},tt={class:"col-sm-6"},ot={class:"form-group mb-3"},st=e("label",{for:"price",class:"form-label"},"通路",-1),it=["value"],nt={key:0,class:"col-sm-12 mb-4"},lt={class:"fs-7 mt-1"},rt={class:"memberWrapper d-flex mt-2"},at={class:"perArea"},ct=e("h1",{class:"text-center py-2 fs-5"},"必帶區",-1),dt={id:"redDragArea",class:"sprint-section bg-mainorange mustArea",ref:"redArea"},mt=e("div",{class:"droppable-container bg-mainorange"},null,-1),ut=[mt],pt={class:"perArea"},ht=e("h1",{class:"text-center py-2 fs-5"},"必帶才可帶區",-1),ft={id:"blueDragArea",class:"sprint-section bg-primary scarceArea",ref:"blueArea"},gt=e("div",{class:"droppable-container bg-primary"},null,-1),bt=[gt],_t={class:"perArea"},yt=e("h1",{class:"text-center py-2 fs-5"},"無限制區",-1),vt={class:"sprint-section bg-secondary normalArea",ref:"normalArea"},kt=e("div",{class:"droppable-container bg-secondary"},null,-1),Pt=[kt],Ct={class:"perArea"},At=e("h1",{class:"text-center py-2 fs-5"},"已被卡位成員區",-1),xt={class:"sprint-section bg-maingray takenArea",ref:"takenArea"},wt=e("div",{class:"droppable-container bg-maingray"},null,-1),Ut=[wt],Mt={class:"choosePlate",ref:"choosePlate"},Nt={class:"row"},Tt={class:"col-sm-6"},Vt={class:"form-group mb-3"},It=e("label",{for:"title",class:"form-label"},"國內運費",-1),Dt={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},Lt=e("option",{disabled:"",selected:"",value:""},"請選擇出貨",-1),St=e("option",{value:"711賣貨便"},"711賣貨便",-1),Ft=e("option",{value:"711店到店"},"711店到店",-1),Et=e("option",{value:"全家"},"全家店到店",-1),Bt=e("option",{value:"萊爾富"},"萊爾富",-1),jt={name:"domesitcFreightAmount",class:"invalid-feedback"},Ht={key:2},Rt=e("h4",{class:"text-secondary"},[F("面交"),e("span",null,"0"),F("元")],-1),Ot={name:"note",class:"invalid-feedback"},qt={class:"col-sm-6"},Gt={class:"form-group mb-3"},Wt=e("label",{for:"title",class:"form-label"},"國際運費",-1),Xt={class:"btn-group",role:"group","aria-label":"Basic radio toggle button group"},zt={key:0,class:"btn-group btn-group-wider",role:"group","aria-label":"Basic radio toggle button group"},Jt={key:1,class:"text-mainorange"},Yt={name:"internationalFreight",class:"invalid-feedback"},Kt={class:"col-sm-12"},Qt=e("label",{for:"floatingTextarea2",class:"mb-3"},"商品描述",-1),Zt={class:"form-floating"},$t={name:"price",class:"invalid-feedback"},eo={class:"modal-footer mt-6"};function to(l,o,_,k,i,n){const c=E("font-awesome-icon"),P=E("v-field"),f=E("v-form");return r(),a(T,null,[_.ifGroupCreator?(r(),a("div",$,[ee,e("table",te,[oe,e("tbody",null,[(r(!0),a(T,null,I(l.userProductList,s=>(r(),a("tr",{key:s.id},[e("td",null,"剩餘"+h(Object.values(s.leftMember).filter(t=>t===!0).length)+"位",1),e("td",null,h(new Date(s.created_At).getMonth()+1)+"月"+h(new Date(s.created_At).getDate())+"日",1),e("td",se,h(s.title),1),e("td",ie,[e("button",{class:"btn","data-bs-toggle":"collapse","data-bs-target":"#groupWaiterCollapse","aria-expanded":"false","aria-controls":"groupWaiterCollapse",onClick:t=>n.openModal("edit",s)},[d(c,{icon:"fa-solid fa-pen-to-square",class:"dark-pink fs-4"})],8,ne)]),e("td",le,[e("button",{type:"button",class:"btn btn-sm text-white me-2",onClick:t=>n.openModal("closing",s)},[d(c,{icon:"fa-solid fa-clock",class:"text-primary fs-4"})],8,re)]),e("td",null,[e("button",{type:"button",class:"btn btn-sm text-white",onClick:t=>l.deletePerProduct(s.id)},[d(c,{icon:"fa-solid fa-trash",class:"text-mainorange fs-4"})],8,ae)])]))),128))])])])):(r(),a("div",ce,[de,e("table",me,[ue,e("tbody",null,[(r(!0),a(T,null,I(l.cardGroupCart,s=>(r(),a("tr",{key:s.id},[e("td",null,h(s.user.name),1),e("td",null,h(new Date(s.created_at).getMonth()+1)+"月"+h(new Date(s.created_at).getDate())+"日",1),e("td",pe,h(s.product.title),1),e("td",he,[e("button",{type:"button",class:"btn btn-primary btn-sm text-white me-2",onClick:t=>n.openModal("edit",s)}," 99 ",8,fe)]),e("td",null,[e("button",{type:"button",class:"btn btn-mainorange btn-sm text-white",onClick:t=>l.deletePerProduct(s.id)},[d(c,{icon:"fa-solid fa-trash"})],8,ge)])]))),128))])])])),e("div",be,[e("div",_e,[e("div",ye,[e("div",ve,[i.isNew==="group"?(r(),a("h4",ke,"新增拆卡團")):v("",!0),i.isNew==="edit"?(r(),a("h4",Pe,"編輯拆卡團")):v("",!0),i.isNew==="closing"?(r(),a("h4",Ce,"收團確認")):v("",!0),e("button",{type:"button",class:"btn-close text-white",onClick:o[0]||(o[0]=(...s)=>n.closeModal&&n.closeModal(...s)),"aria-label":"Close"},[d(c,{icon:"fa-solid fa-xmark",class:"text-white",style:{"font-size":"24px"}})])]),i.isNew==="closing"?(r(),a("div",Ae,[e("div",xe,[e("div",we,[(r(!0),a(T,null,I(i.domLeftMember,s=>(r(),a("div",{key:s.member,class:"perMemberOption d-flex flex-column justify-content-center align-items-center mb-2",onClick:t=>i.chooseMember(s,t)},[e("div",{class:C(["member-img-sm mb-1 border-0",{memberDisabled:!s.left}])},[e("img",{class:C(["per-member small-head",{"bd-gray":s.left,"cursor-a":s.left}]),src:s.imgUrl,alt:s.member,"data-id":s.memberNo},null,10,Me)],2),e("h2",{class:C(["text-white text-center fs-7 mb-1",{txtDisabled:!s.left}])},h(s.member),3)],8,Ue))),128))])]),Ne,e("div",Te,[e("button",{type:"button",class:"btn btn-secondary text-white",onClick:o[1]||(o[1]=(...s)=>n.closeModal&&n.closeModal(...s))},"取消"),e("button",{type:"submit",class:"btn btn-primary text-white",onClick:o[2]||(o[2]=s=>n.updateProduct("edit",i.perProduct))},"確認收團")])])):(r(),a("div",Ve,[d(f,{class:"row",onSubmit:n.onSubmit},{default:q(({errors:s})=>[e("div",Ie,[De,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),d(P,{id:"imgUrl",modelValue:i.perProduct.imgUrl,"onUpdate:modelValue":o[3]||(o[3]=t=>i.perProduct.imgUrl=t),name:"link",class:C(["form-control",{"is-invalid":s.link}]),placeholder:"請輸入圖片連結",rules:n.isRequired},null,8,["modelValue","rules","class"]),e("p",Le,h(s.link),1),e("div",Se,[e("img",{class:"img-fluid",src:i.perProduct.imgUrl},null,8,Fe)]),Array.isArray(i.perProduct.imagesUrl)?(r(),a("div",Ee,[(r(!0),a(T,null,I(i.perProduct.imagesUrl,(t,y)=>(r(),a("div",{class:"mb-1",key:y},[e("div",Be,[je,w(e("input",{"onUpdate:modelValue":p=>i.perProduct.imagesUrl[y]=p,type:"text",class:"form-control",placeholder:"請輸入圖片連結"},null,8,He),[[K,i.perProduct.imagesUrl[y]]])]),e("img",{class:"img-fluid",src:t},null,8,Re)]))),128)),!i.perProduct.imagesUrl.length||i.perProduct.imagesUrl[i.perProduct.imagesUrl.length-1]?(r(),a("div",Oe,[e("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:o[4]||(o[4]=t=>i.perProduct.imagesUrl.push(""))}," 新增圖片 ")])):(r(),a("div",qe,[e("button",{class:"btn btn-outline-danger btn-sm d-block w-100",onClick:o[5]||(o[5]=t=>i.perProduct.imagesUrl.pop())}," 刪除圖片 ")]))])):(r(),a("div",Ge,[e("button",{class:"btn btn-outline-primary btn-sm d-block w-100",onClick:o[6]||(o[6]=(...t)=>l.createImages&&l.createImages(...t))}," 新增圖片 ")]))]),e("div",We,[e("div",Xe,[e("div",ze,[e("div",Je,[Ye,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),d(P,{id:"title",modelValue:i.perProduct.title,"onUpdate:modelValue":o[7]||(o[7]=t=>i.perProduct.title=t),name:"title",class:C(["form-control",{"is-invalid":s.title}]),placeholder:"請輸入標題",rules:n.isRequired},null,8,["modelValue","rules","class"]),e("p",Ke,h(s.title),1)])]),e("div",Qe,[e("div",Ze,[$e,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),d(P,{id:"price",modelValue:i.perProduct.price,"onUpdate:modelValue":o[8]||(o[8]=t=>i.perProduct.price=t),modelModifiers:{number:!0},type:"number",name:"price",class:C(["form-control",{"is-invalid":s.price}]),placeholder:"請填入未含運的商品價格",rules:n.isNumber},null,8,["modelValue","rules","class"]),e("p",et,h(s.price),1)])]),e("div",tt,[e("div",ot,[st,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),w(e("select",{"onUpdate:modelValue":o[9]||(o[9]=t=>i.perProduct.channel=t),class:"form-select","aria-label":"Default select example",id:"member"},[(r(!0),a(T,null,I(i.channels,t=>(r(),a("option",{key:t,value:t,selected:""},h(t),9,it))),128))],512),[[Q,i.perProduct.channel]])])]),i.isNew!=="closing"?(r(),a("div",nt,[e("h4",null,[F("剩餘成員"),d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"})]),e("p",lt,[d(c,{icon:"fa-solid fa-star"}),F("請將下方成員拖曳至對應區域。除（已被卡位成員區）外，其他區域都是買家可以卡位的。")]),e("div",rt,[e("div",at,[ct,e("div",dt,ut,512)]),e("div",pt,[ht,e("div",ft,bt,512)]),e("div",_t,[yt,e("div",vt,Pt,512)]),e("div",Ct,[At,e("div",xt,Ut,512)])]),e("div",Mt,null,512)])):v("",!0),e("div",Nt,[e("div",Tt,[e("div",Vt,[It,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),e("div",Dt,[w(e("input",{type:"radio",class:"btn-check",name:"domesticBtnRadio",id:"hasDomestic",autocomplete:"off",ref:"hasDomestic",value:"true","onUpdate:modelValue":o[10]||(o[10]=t=>i.ifDomesticFee=t)},null,512),[[V,i.ifDomesticFee]]),e("label",{class:"btn btn-outline-mainorange toggleBtn",for:"hasDomestic",onClick:o[11]||(o[11]=(...t)=>n.hasDomestic&&n.hasDomestic(...t))},[d(c,{icon:"fa-solid fa-check"})]),w(e("input",{type:"radio",class:"btn-check",name:"domesticBtnRadio",id:"btnradio2",autocomplete:"off",value:"false","onUpdate:modelValue":o[12]||(o[12]=t=>i.ifDomesticFee=t)},null,512),[[V,i.ifDomesticFee]]),e("label",{class:"btn btn-outline-maingray toggleBtn",for:"btnradio2",onClick:o[13]||(o[13]=(...t)=>n.hasNoDomestic&&n.hasNoDomestic(...t))},[d(c,{icon:"fa-solid fa-xmark"})])]),i.ifDomesticFee?(r(),B(P,{key:0,id:"name",name:"domesitcFreight",class:C(["form-control",{"is-invalid":s.domesitcFreight}]),placeholder:"請choose出貨",modelValue:i.perProduct.domestic_Transport.courier,"onUpdate:modelValue":o[14]||(o[14]=t=>i.perProduct.domestic_Transport.courier=t),as:"select",rules:n.isRequired},{default:q(()=>[Lt,St,Ft,Et,Bt]),_:2},1032,["modelValue","rules","class"])):v("",!0),i.ifDomesticFee?(r(),B(P,{key:1,id:"domesitcFreight",modelValue:i.perProduct.domestic_Transport.amount,"onUpdate:modelValue":o[15]||(o[15]=t=>i.perProduct.domestic_Transport.amount=t),modelModifiers:{number:!0},type:"number",name:"domesitcFreightAmount",class:C(["form-control",{"is-invalid":s.domesitcFreightAmount}]),rules:n.isNumber},null,8,["modelValue","rules","class"])):v("",!0),e("p",jt,h(s.domesitcFreightAmount),1),i.ifDomesticFee?v("",!0):(r(),a("div",Ht,[Rt,d(P,{id:"note",modelValue:i.perProduct.domestic_Transport.courier_Note,"onUpdate:modelValue":o[16]||(o[16]=t=>i.perProduct.domestic_Transport.courier_Note=t),name:"note",class:C(["form-control",{"is-invalid":s.note}]),placeholder:"請填寫可面交縣市及日期限制",rules:n.isRequired},null,8,["modelValue","rules","class"]),e("p",Ot,h(s.note),1)]))])]),e("div",qt,[e("div",Gt,[Wt,e("div",Xt,[w(e("input",{type:"radio",class:"btn-check",name:"internationalBtnRadio",ref:"hasInternational",id:"hasInternational",autocomplete:"off",value:"true","onUpdate:modelValue":o[17]||(o[17]=t=>i.ifInternational=t)},null,512),[[V,i.ifInternational]]),e("label",{class:"btn btn-outline-mainorange toggleBtn",for:"hasInternational",onClick:o[18]||(o[18]=(...t)=>n.hasInternational&&n.hasInternational(...t))},[d(c,{icon:"fa-solid fa-check"})]),w(e("input",{type:"radio",class:"btn-check",name:"internationalBtnRadio",id:"btnradio4",autocomplete:"off",value:"false","onUpdate:modelValue":o[19]||(o[19]=t=>i.ifInternational=t)},null,512),[[V,i.ifInternational]]),e("label",{class:"btn btn-outline-maingray toggleBtn",for:"btnradio4",onClick:o[20]||(o[20]=(...t)=>n.hasNoInternational&&n.hasNoInternational(...t))},[d(c,{icon:"fa-solid fa-xmark"})])]),i.ifInternational?(r(),a("div",zt,[w(e("input",{type:"radio",class:"btn-check",name:"internationalDetailBtnRadio",ref:"needComplement",id:"needComplement",autocomplete:"off",value:"true","onUpdate:modelValue":o[21]||(o[21]=t=>i.ifComplement=t)},null,512),[[V,i.ifComplement]]),e("label",{class:"btn btn-outline-primary toggleBtn",for:"needComplement",onClick:o[22]||(o[22]=(...t)=>n.needComplement&&n.needComplement(...t))},"需二補"),w(e("input",{type:"radio",class:"btn-check",name:"internationalDetailBtnRadio",id:"btnradio6",autocomplete:"off",value:"false","onUpdate:modelValue":o[23]||(o[23]=t=>i.ifComplement=t)},null,512),[[V,i.ifComplement]]),e("label",{class:"btn btn-outline-primary toggleBtn",for:"btnradio6",onClick:o[24]||(o[24]=(...t)=>n.needNoComplement&&n.needNoComplement(...t))},"本次付清")])):v("",!0),i.ifComplement&&i.ifInternational?(r(),a("h4",Jt,"本次結帳總額未收國際運費，最終出貨前請至訂單管理新增運費金額，系統將自動通知買家付款。")):v("",!0),!i.ifComplement&&i.ifInternational?(r(),B(P,{key:2,id:"domesitcFreight",modelValue:i.perProduct.international_Transport.amount,"onUpdate:modelValue":o[25]||(o[25]=t=>i.perProduct.international_Transport.amount=t),modelModifiers:{number:!0},type:"number",name:"internationalFreight",class:C(["form-control",{"is-invalid":s.internationalFreight}]),rules:n.isNumber,placeholder:"不需二補的最終國際運費"},null,8,["modelValue","rules","class"])):v("",!0),e("p",Yt,h(s.internationalFreight),1)])])]),e("div",Kt,[Qt,d(c,{icon:"fa-solid fa-star-of-life",class:"text-mainorange modalIcon"}),e("div",Zt,[d(P,{modelValue:i.perProduct.description,"onUpdate:modelValue":o[26]||(o[26]=t=>i.perProduct.description=t),id:"domesitcFreight",type:"text",name:"description",class:C(["form-control",{"is-invalid":s.description}]),rules:n.isRequired,height:"200px"},null,8,["modelValue","rules","class"]),e("p",$t,h(s.description),1)])])])]),e("div",eo,[e("button",{type:"button",class:"btn btn-secondary text-white",onClick:o[27]||(o[27]=(...t)=>n.closeModal&&n.closeModal(...t))},"取消"),i.isNew==="edit"?(r(),a("button",{key:0,type:"submit",class:"btn btn-primary text-white",onClick:o[28]||(o[28]=t=>n.updateProduct("edit",i.perProduct))},"確認修改")):v("",!0),i.isNew==="group"?(r(),a("button",{key:1,type:"submit",class:"btn btn-primary text-white",onClick:o[29]||(o[29]=t=>n.updateProduct("group"))},"確認開團")):v("",!0)])]),_:1},8,["onSubmit"])]))])])])],64)}const lo=z(Z,[["render",to]]);export{lo as default};
