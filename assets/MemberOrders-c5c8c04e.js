import{S as i}from"./sweetalert2.all-742031dd.js";import{_ as p,a as d,c,e as t,F as u,y as m,o as s,t as r,z as l,f,r as P}from"./index-14e50f67.js";const{VITE_APP_URL2:h,VITE_APP_PATH:b}={VITE_APP_URL:"https://card-pool-json-vercel.vercel.app",VITE_APP_URL2:"https://vue3-course-api.hexschool.io/v2",VITE_APP_PATH:"lk1025cina",BASE_URL:"/cardPool-Vite-Airbnb/",MODE:"production",DEV:!1,PROD:!0},w={data(){return{orders:[]}},methods:{getAdminOrders(){const n=`${h}/api/${b}/admin/orders`;d.get(n).then(o=>{this.orders=o.data.orders,console.log(this.orders)}).catch(o=>{i.fire({position:"center",icon:"error",title:`${o.message}`,showConfirmButton:!1,timer:1800})})},checkAdmin(){const n=`${h}/api/user/check`;d.post(n).then(()=>{this.getAdminOrders()}).catch(o=>{i.fire({position:"center",icon:"error",title:o.response.data.message,showConfirmButton:!1,timer:1800}),this.$router.push("/logIn")})}},mounted(){this.checkAdmin()}},A={class:"container border border-primary border-2"},g={class:"mt-4 text-center"},k=t("thead",{class:"p-4 mb-5"},[t("tr",{class:"text-primary fs-5 pb-4"},[t("th",{width:"270"},"訂單編號"),t("th",{width:"270"},"下單時間"),t("th",{width:"170"},"訂購人"),t("th",{width:"170"},"訂單總額"),t("th",{width:"200"},"是否付清"),t("th",{width:"200"},"狀態查詢")])],-1),x={type:"button",class:"btn text-secondary"};function y(n,o,E,V,_,$){const a=P("font-awesome-icon");return s(),c("div",A,[t("table",g,[k,t("tbody",null,[(s(!0),c(u,null,m(_.orders,e=>(s(),c("tr",{key:e.id},[t("td",null,r(e.id),1),t("td",null,r(new Date(e.create_at*1e3).getMonth()+1)+"月"+r(new Date(e.create_at*1e3).getDate())+"日",1),t("td",null,r(e.user.email),1),t("td",null,r(e.total),1),t("td",null,[e.is_paid?(s(),l(a,{key:0,icon:"fa-solid fa-check"})):(s(),l(a,{key:1,icon:"fa-solid fa-xmark",class:"text-mainorange"}))]),t("td",null,[t("button",x,[f(a,{icon:"fa-solid fa-comment-dots"})])])]))),128))])])])}const T=p(w,[["render",y]]);export{T as default};
